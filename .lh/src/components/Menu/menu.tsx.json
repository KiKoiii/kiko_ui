{
    "sourceFile": "src/components/Menu/menu.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 17,
            "patches": [
                {
                    "date": 1662967475402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1662967682299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: Leojias\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 15:23:48\r\n+ * @LastEditTime: 2022-09-12 15:28:01\r\n  */\r\n import React from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -19,8 +19,8 @@\n \r\n }\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n     const {defaultIndex,mode,style,className,children} =props;\r\n-    const classes =classNames(\"kiko-menu\",className,{\r\n+    const classes =classNames(\"kikoUI-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n     })\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1662984257973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: Leojias\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 15:28:01\r\n+ * @LastEditTime: 2022-09-12 20:04:17\r\n  */\r\n import React from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -18,9 +18,12 @@\n     onSelect?:(selectedIndex:number)=>void;\r\n \r\n }\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n-    const {defaultIndex,mode,style,className,children} =props;\r\n+    const {defaultIndex,mode,style,className,} =props;\r\n     const classes =classNames(\"kikoUI-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n     })\r\n+    return (\r\n+        <ul className={classes} style={style}></ul>\r\n+    )\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1662984290478,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: Leojias\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 20:04:17\r\n+ * @LastEditTime: 2022-09-12 17:03:51\r\n  */\r\n import React from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -18,12 +18,14 @@\n     onSelect?:(selectedIndex:number)=>void;\r\n \r\n }\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n-    const {defaultIndex,mode,style,className,} =props;\r\n+    const {defaultIndex,mode,style,className,children} =props;\r\n     const classes =classNames(\"kikoUI-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n     })\r\n     return (\r\n-        <ul className={classes} style={style}></ul>\r\n+        <ul className={classes} style={style}>\r\n+            {children}\r\n+        </ul>\r\n     )\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1662984336608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: Leojias\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 17:03:51\r\n+ * @LastEditTime: 2022-09-12 20:05:36\r\n  */\r\n import React from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -14,8 +14,9 @@\n     defaultIndex?:number;\r\n     className?:string;\r\n     mode?:MenuMode;\r\n     style?:React.CSSProperties;\r\n+    children?:any;\r\n     onSelect?:(selectedIndex:number)=>void;\r\n \r\n }\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n"
                },
                {
                    "date": 1662984451849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: Leojias\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 20:05:36\r\n+ * @LastEditTime: 2022-09-12 20:07:31\r\n  */\r\n import React from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -28,5 +28,9 @@\n         <ul className={classes} style={style}>\r\n             {children}\r\n         </ul>\r\n     )\r\n+}\r\n+Menu.defaultProps ={\r\n+    defaultIndex:0,\r\n+    mode:'horizontal'\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1662984502812,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,5 +32,6 @@\n }\r\n Menu.defaultProps ={\r\n     defaultIndex:0,\r\n     mode:'horizontal'\r\n-}\n\\ No newline at end of file\n+}\r\n+export default Menu\n\\ No newline at end of file\n"
                },
                {
                    "date": 1662985061440,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: Leojias\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 20:07:31\r\n+ * @LastEditTime: 2022-09-12 20:17:41\r\n  */\r\n import React from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -20,9 +20,9 @@\n \r\n }\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n     const {defaultIndex,mode,style,className,children} =props;\r\n-    const classes =classNames(\"kikoUI-menu\",className,{\r\n+    const classes =classNames(\"kiko-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n     })\r\n     return (\r\n         <ul className={classes} style={style}>\r\n"
                },
                {
                    "date": 1662988501057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,30 @@\n /*\r\n  * @Descripttion: \r\n  * @version: \r\n- * @Author: Leojias\r\n+ * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 20:17:41\r\n+ * @LastEditTime: 2022-09-12 21:15:00\r\n  */\r\n-import React from 'react'\r\n+import React,{createContext} from 'react'\r\n import classNames from 'classnames'\r\n \r\n type MenuMode =\"horizontal\"|\"vertical\"\r\n+type SelectCallBack =(selectedIndex:number)=>void\r\n export interface MenuProps {\r\n     defaultIndex?:number;\r\n     className?:string;\r\n     mode?:MenuMode;\r\n     style?:React.CSSProperties;\r\n     children?:any;\r\n-    onSelect?:(selectedIndex:number)=>void;\r\n+    onSelect?:SelectCallBack;\r\n \r\n }\r\n+interface IMenuContext{\r\n+    index?:number,\r\n+    onSelect?:SelectCallBack;\r\n+}\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n     const {defaultIndex,mode,style,className,children} =props;\r\n     const classes =classNames(\"kiko-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n"
                },
                {
                    "date": 1662988799461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 21:15:00\r\n+ * @LastEditTime: 2022-09-12 21:19:58\r\n  */\r\n import React,{createContext} from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -23,8 +23,9 @@\n interface IMenuContext{\r\n     index?:number,\r\n     onSelect?:SelectCallBack;\r\n }\r\n+export const  MenuContext=createContext<IMenuContext>({index:0})\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n     const {defaultIndex,mode,style,className,children} =props;\r\n     const classes =classNames(\"kiko-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n"
                },
                {
                    "date": 1663030044144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,11 +3,11 @@\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-12 21:19:58\r\n+ * @LastEditTime: 2022-09-13 08:47:24\r\n  */\r\n-import React,{createContext} from 'react'\r\n+import React,{createContext,useState} from 'react'\r\n import classNames from 'classnames'\r\n \r\n type MenuMode =\"horizontal\"|\"vertical\"\r\n type SelectCallBack =(selectedIndex:number)=>void\r\n@@ -24,8 +24,9 @@\n     index?:number,\r\n     onSelect?:SelectCallBack;\r\n }\r\n export const  MenuContext=createContext<IMenuContext>({index:0})\r\n+\r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n     const {defaultIndex,mode,style,className,children} =props;\r\n     const classes =classNames(\"kiko-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n"
                },
                {
                    "date": 1663030057892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n  * @Descripttion: \r\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n- * @LastEditors: Leojias\r\n+ * @LastEditors: kiko\r\n  * @LastEditTime: 2022-09-13 08:47:24\r\n  */\r\n import React,{createContext,useState} from 'react'\r\n import classNames from 'classnames'\r\n"
                },
                {
                    "date": 1663031561526,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,10 +2,10 @@\n  * @Descripttion: \r\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n- * @LastEditors: kiko\r\n- * @LastEditTime: 2022-09-13 08:47:24\r\n+ * @LastEditors: Leojias\r\n+ * @LastEditTime: 2022-09-13 09:12:40\r\n  */\r\n import React,{createContext,useState} from 'react'\r\n import classNames from 'classnames'\r\n \r\n@@ -26,15 +26,32 @@\n }\r\n export const  MenuContext=createContext<IMenuContext>({index:0})\r\n \r\n const Menu:React.FC<MenuProps> =(props)=>{\r\n-    const {defaultIndex,mode,style,className,children} =props;\r\n+    const {defaultIndex,mode,style,className,children,onSelect} =props;\r\n+    const [ currentActive,setCurrentActive]=useState(defaultIndex);\r\n     const classes =classNames(\"kiko-menu\",className,{\r\n         'menu-vertical':mode==='vertical'\r\n     })\r\n+    //onSelect的点击\r\n+    const handleClick=(index:number)=>{\r\n+        setCurrentActive(index)\r\n+        if(onSelect){\r\n+            onSelect(index)\r\n+        }\r\n+    }\r\n+    //数据\r\n+    const passedContext:IMenuContext ={\r\n+        index:currentActive?currentActive:0,\r\n+        onSelect:handleClick\r\n+    }\r\n+\r\n     return (\r\n         <ul className={classes} style={style}>\r\n-            {children}\r\n+            <MenuContext.Provider value={passedContext}>\r\n+                {children}\r\n+            </MenuContext.Provider>\r\n+           \r\n         </ul>\r\n     )\r\n }\r\n Menu.defaultProps ={\r\n"
                },
                {
                    "date": 1663234826643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,13 +2,14 @@\n  * @Descripttion: \r\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n- * @LastEditors: Leojias\r\n- * @LastEditTime: 2022-09-13 09:12:40\r\n+ * @LastEditors: kiko\r\n+ * @LastEditTime: 2022-09-15 17:40:26\r\n  */\r\n import React,{createContext,useState} from 'react'\r\n import classNames from 'classnames'\r\n+import {MenuItemProps} from './menuItem'\r\n \r\n type MenuMode =\"horizontal\"|\"vertical\"\r\n type SelectCallBack =(selectedIndex:number)=>void\r\n export interface MenuProps {\r\n@@ -43,19 +44,35 @@\n     const passedContext:IMenuContext ={\r\n         index:currentActive?currentActive:0,\r\n         onSelect:handleClick\r\n     }\r\n+    //children\r\n+    const renderChildren=()=>{\r\n+        return React.Children.map(children,(child,index)=>{\r\n+            const childElement =child as React.FunctionComponentElement<MenuItemProps>\r\n+            const { displayName }=childElement.type\r\n+            if(displayName==='MenuItem'){ \r\n+                return React.cloneElement(childElement,{\r\n+                    index\r\n+                })\r\n+            }else{\r\n+                console.error(\"这不是一个菜单的子组件\")\r\n+            }\r\n \r\n+        })\r\n+    }\r\n+\r\n     return (\r\n-        <ul className={classes} style={style}>\r\n+        <ul className={classes} style={style} data-testid='test-menu'>\r\n             <MenuContext.Provider value={passedContext}>\r\n-                {children}\r\n+                {renderChildren()}\r\n             </MenuContext.Provider>\r\n            \r\n         </ul>\r\n     )\r\n }\r\n Menu.defaultProps ={\r\n     defaultIndex:0,\r\n-    mode:'horizontal'\r\n+    mode:'vertical'\r\n }\r\n+\r\n export default Menu\n\\ No newline at end of file\n"
                },
                {
                    "date": 1663237333635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,11 +3,11 @@\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: kiko\r\n- * @LastEditTime: 2022-09-15 17:40:26\r\n+ * @LastEditTime: 2022-09-15 18:22:13\r\n  */\r\n-import React,{createContext,useState} from 'react'\r\n+import React,{createContext,useState,FunctionComponentElement} from 'react'\r\n import classNames from 'classnames'\r\n import {MenuItemProps} from './menuItem'\r\n \r\n type MenuMode =\"horizontal\"|\"vertical\"\r\n"
                },
                {
                    "date": 1663237363055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: kiko\r\n  * @LastEditTime: 2022-09-15 18:22:13\r\n  */\r\n-import React,{createContext,useState,FunctionComponentElement} from 'react'\r\n+import React,{createContext,useState} from 'react'\r\n import classNames from 'classnames'\r\n import {MenuItemProps} from './menuItem'\r\n \r\n type MenuMode =\"horizontal\"|\"vertical\"\r\n"
                },
                {
                    "date": 1663245978858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,78 @@\n+/*\r\n+ * @Descripttion: \r\n+ * @version: \r\n+ * @Author: kiko\r\n+ * @Date: 2022-09-12 11:04:19\r\n+ * @LastEditors: kiko\r\n+ * @LastEditTime: 2022-09-15 20:46:18\r\n+ */\r\n+import React,{createContext,useState} from 'react'\r\n+import classNames from 'classnames'\r\n+import {MenuItemProps} from './menuItem'\r\n+\r\n+type MenuMode =\"horizontal\"|\"vertical\"\r\n+type SelectCallBack =(selectedIndex:number)=>void\r\n+export interface MenuProps {\r\n+    defaultIndex?:number;\r\n+    className?:string;\r\n+    mode?:MenuMode;\r\n+    style?:React.CSSProperties;\r\n+    children?:any;\r\n+    onSelect?:SelectCallBack;\r\n+\r\n+}\r\n+interface IMenuContext{\r\n+    index?:number,\r\n+    onSelect?:SelectCallBack;\r\n+}\r\n+export const  MenuContext=createContext<IMenuContext>({index:0})\r\n+\r\n+const Menu:React.FC<MenuProps> =(props)=>{\r\n+    const {defaultIndex,mode,style,className,children,onSelect} =props;\r\n+    const [ currentActive,setCurrentActive]=useState(defaultIndex);\r\n+    const classes =classNames(\"kiko-menu\",className,{\r\n+        'menu-vertical':mode==='vertical'\r\n+    })\r\n+    //onSelect的点击\r\n+    const handleClick=(index:number)=>{\r\n+        setCurrentActive(index)\r\n+        if(onSelect){\r\n+            onSelect(index)\r\n+        }\r\n+    }\r\n+    //数据\r\n+    const passedContext:IMenuContext ={\r\n+        index:currentActive?currentActive:0,\r\n+        onSelect:handleClick\r\n+    }\r\n+    //children\r\n+    const renderChildren=()=>{\r\n+        return React.Children.map(children,(child,index)=>{\r\n+            const childElement =child as React.FunctionComponentElement<MenuItemProps>\r\n+            const { displayName }=childElement.type\r\n+            if(displayName==='MenuItem'||displayName==='SubMenu'){ \r\n+                return React.cloneElement(childElement,{\r\n+                    index\r\n+                })\r\n+            }else{\r\n+                console.error(\"这不是一个菜单的子组件\")\r\n+            }\r\n+\r\n+        })\r\n+    }\r\n+\r\n+    return (\r\n+        <ul className={classes} style={style} data-testid='test-menu'>\r\n+            <MenuContext.Provider value={passedContext}>\r\n+                {renderChildren()}\r\n+            </MenuContext.Provider>\r\n+           \r\n+        </ul>\r\n+    )\r\n+}\r\n+Menu.defaultProps ={\r\n+    defaultIndex:0,\r\n+    mode:'vertical'\r\n+}\r\n+\r\n+export default Menu\n\\ No newline at end of file\n"
                },
                {
                    "date": 1663248650472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n  * @version: \r\n  * @Author: kiko\r\n  * @Date: 2022-09-12 11:04:19\r\n  * @LastEditors: kiko\r\n- * @LastEditTime: 2022-09-15 20:46:18\r\n+ * @LastEditTime: 2022-09-15 21:30:49\r\n  */\r\n import React,{createContext,useState} from 'react'\r\n import classNames from 'classnames'\r\n import {MenuItemProps} from './menuItem'\r\n@@ -56,9 +56,8 @@\n                 })\r\n             }else{\r\n                 console.error(\"这不是一个菜单的子组件\")\r\n             }\r\n-\r\n         })\r\n     }\r\n \r\n     return (\r\n@@ -74,83 +73,5 @@\n     defaultIndex:0,\r\n     mode:'vertical'\r\n }\r\n \r\n-export default Menu\n-/*\r\n- * @Descripttion: \r\n- * @version: \r\n- * @Author: kiko\r\n- * @Date: 2022-09-12 11:04:19\r\n- * @LastEditors: kiko\r\n- * @LastEditTime: 2022-09-15 18:22:13\r\n- */\r\n-import React,{createContext,useState} from 'react'\r\n-import classNames from 'classnames'\r\n-import {MenuItemProps} from './menuItem'\r\n-\r\n-type MenuMode =\"horizontal\"|\"vertical\"\r\n-type SelectCallBack =(selectedIndex:number)=>void\r\n-export interface MenuProps {\r\n-    defaultIndex?:number;\r\n-    className?:string;\r\n-    mode?:MenuMode;\r\n-    style?:React.CSSProperties;\r\n-    children?:any;\r\n-    onSelect?:SelectCallBack;\r\n-\r\n-}\r\n-interface IMenuContext{\r\n-    index?:number,\r\n-    onSelect?:SelectCallBack;\r\n-}\r\n-export const  MenuContext=createContext<IMenuContext>({index:0})\r\n-\r\n-const Menu:React.FC<MenuProps> =(props)=>{\r\n-    const {defaultIndex,mode,style,className,children,onSelect} =props;\r\n-    const [ currentActive,setCurrentActive]=useState(defaultIndex);\r\n-    const classes =classNames(\"kiko-menu\",className,{\r\n-        'menu-vertical':mode==='vertical'\r\n-    })\r\n-    //onSelect的点击\r\n-    const handleClick=(index:number)=>{\r\n-        setCurrentActive(index)\r\n-        if(onSelect){\r\n-            onSelect(index)\r\n-        }\r\n-    }\r\n-    //数据\r\n-    const passedContext:IMenuContext ={\r\n-        index:currentActive?currentActive:0,\r\n-        onSelect:handleClick\r\n-    }\r\n-    //children\r\n-    const renderChildren=()=>{\r\n-        return React.Children.map(children,(child,index)=>{\r\n-            const childElement =child as React.FunctionComponentElement<MenuItemProps>\r\n-            const { displayName }=childElement.type\r\n-            if(displayName==='MenuItem'){ \r\n-                return React.cloneElement(childElement,{\r\n-                    index\r\n-                })\r\n-            }else{\r\n-                console.error(\"这不是一个菜单的子组件\")\r\n-            }\r\n-\r\n-        })\r\n-    }\r\n-\r\n-    return (\r\n-        <ul className={classes} style={style} data-testid='test-menu'>\r\n-            <MenuContext.Provider value={passedContext}>\r\n-                {renderChildren()}\r\n-            </MenuContext.Provider>\r\n-           \r\n-        </ul>\r\n-    )\r\n-}\r\n-Menu.defaultProps ={\r\n-    defaultIndex:0,\r\n-    mode:'vertical'\r\n-}\r\n-\r\n export default Menu\n\\ No newline at end of file\n"
                }
            ],
            "date": 1662967475402,
            "name": "Commit-0",
            "content": "/*\r\n * @Descripttion: \r\n * @version: \r\n * @Author: Leojias\r\n * @Date: 2022-09-12 11:04:19\r\n * @LastEditors: Leojias\r\n * @LastEditTime: 2022-09-12 15:23:48\r\n */\r\nimport React from 'react'\r\nimport classNames from 'classnames'\r\n\r\ntype MenuMode =\"horizontal\"|\"vertical\"\r\nexport interface MenuProps {\r\n    defaultIndex?:number;\r\n    className?:string;\r\n    mode?:MenuMode;\r\n    style?:React.CSSProperties;\r\n    onSelect?:(selectedIndex:number)=>void;\r\n\r\n}\r\nconst Menu:React.FC<MenuProps> =(props)=>{\r\n    const {defaultIndex,mode,style,className,children} =props;\r\n    const classes =classNames(\"kiko-menu\",className,{\r\n        'menu-vertical':mode==='vertical'\r\n    })\r\n}"
        }
    ]
}